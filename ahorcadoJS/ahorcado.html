<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Juego del Ahorcado</title>
    <style>        
        body {
            font-family: 'Poppins', sans-serif;
            text-align: center;
            margin: 0;
            padding: 0;
            background: linear-gradient(135deg, #ff9a9e 0%, #fad0c4 100%);
            color: #333;
        }

        h1 {
            margin-top: 20px;
            font-size: 34px;
            color: #fff;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.3);
        }

        .hangman {
            margin: 20px auto;
            width: 440px;
            height: 380px;
            position: relative;
            background-color: #fdfdfd;
            border-radius: 15px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
            overflow: hidden;
        }

        .hangman img {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            display: none;
            opacity: 0;
            transition: opacity 0.5s ease;
        }

        .word {
            display: flex;
            justify-content: center;
            align-items: center;
            gap: 10px;
            height: 50px;
        }

        .letter {
            display: flex;
            justify-content: center;
            align-items: center;
            border-bottom: 3px solid #666;
            width: 40px;
            height: 50px;
            background: rgba(255, 255, 255, 0.8);
            border-radius: 5px;
            font-weight: 600;
            font-size: 20px;
            text-transform: uppercase;
            box-sizing: border-box;
        }


        .message {
            margin: 20px 0;
            font-size: 25px;
            color: #fff;
            font-weight: bold;
            text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.2);
        }

        .keyboard {
            margin: 20px auto;
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
            max-width: 600px;
        }

        .keyboard button {
            margin: 5px;
            padding: 10px 15px;
            font-size: 18px;
            border: none;
            border-radius: 5px;
            background: #ff6f61;
            color: #fff;
            font-weight: bold;
            cursor: pointer;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.2);
            transition: background 0.3s, transform 0.2s;
        }

        .keyboard button:hover:not(:disabled) {
            background: #ff5a4f;
            transform: translateY(-2px);
        }

        .keyboard button:disabled {
            background: #ccc;
            color: #777;
            cursor: not-allowed;
        }
    </style>
</head>
<body>
    <!--TÃ­tulo-->
    <h1>Juego del Ahorcado</h1>

    <!--Imagenes-->
    <div class="hangman">
        <img id="first" src="inicio.png" alt="Inicio">
        <img id="head" src="cabeza.png" alt="Cabeza">
        <img id="body" src="cuerpo.png" alt="Cuerpo">
        <img id="arm1" src="brazo1.png" alt="Brazo Izquierdo">
        <img id="arm2" src="brazo2.png" alt="Brazo Derecho">
        <img id="leg1" src="pierna1.png" alt="Pierna Izquierda">
        <img id="leg2" src="pierna2.png" alt="Pierna Derecha">
        <img id="final" src="final.png" alt="Raya Final">
    </div>

    <!--Divs donde irÃ¡n los elementos-->
    <div class="word" id="word"></div>
    <div class="message" id="message"></div>
    <div class="keyboard" id="keyboard"></div>

    <script>
        // Instanciamos las variables
        const words = ["html", "javascript", "css", "python", "java", "frontend", "backend"];
        const selectedWord = words[Math.floor(Math.random() * words.length)].toUpperCase();
        const maxErrors = 8;
        let guessed = [];
        let errors = 0;

        const wordContainer = document.getElementById("word");
        const message = document.getElementById("message");
        const keyboard = document.getElementById("keyboard");
        const parts = ["first", "head", "body", "arm1", "arm2", "leg1", "leg2", "final"];

        // FunciÃ³n para dibujar la palabra
        function drawWord() {
            wordContainer.innerHTML = "";
            for (let letter of selectedWord) {
                const span = document.createElement("span");
                span.classList.add("letter");
                span.textContent = guessed.includes(letter) ? letter : "";
                wordContainer.appendChild(span);
            }
        }

        // FunciÃ³n para dibujar el teclado
        function drawKeyboard() {
            keyboard.innerHTML = "";
            for (let i = 65; i <= 90; i++) {
                const button = document.createElement("button");
                button.textContent = String.fromCharCode(i);
                button.addEventListener("click", () => handleGuess(button.textContent));
                button.disabled = guessed.includes(button.textContent);
                keyboard.appendChild(button);
            }
        }

        /*
        FunciÃ³n para confirmar si la opciÃ³n Ã©s correcta,
        si lo Ã©s, sigue jugando, pero
        si la palabra estÃ¡ entera ha ganado,
        en caso contrario se le suma un error,
        si no ha llegado al mÃ¡ximo de errores sigue jugando
        en caso contrario pierde
        */
        function handleGuess(letter) {
            if (selectedWord.includes(letter)) {
                guessed.push(letter);
                if (selectedWord.split("").every(l => guessed.includes(l))) {
                    message.textContent = "Â¡Felicidades! GanasteðŸŽ‰";
                    keyboard.innerHTML = "";
                }
            } else {
                if (errors < maxErrors) {
                    const part = document.getElementById(parts[errors]);
                    part.style.display = "block";
                    part.style.opacity = "1";
                }
                errors++;
                if (errors === maxErrors) {
                    message.textContent = `PerdisteðŸ˜¢ðŸ˜¢ðŸ˜¢ La palabra era: ${selectedWord}`;
                    keyboard.innerHTML = "";
                }
            }
            drawWord();
        }

        drawWord();
        drawKeyboard();
    </script>
</body>
</html>